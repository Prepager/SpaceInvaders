#ifndef SRC_RENDERE_RENDERER_H_
#define SRC_RENDERE_RENDERER_H_

// Includes
#include "xil_types.h"
#include "xil_cache.h"
#include "../GameObject.h"
#include "../Enemy/Enemy.h"
#include "../GameSettings.h"
#include "display_ctrl/display_ctrl.h"

// Hardware defines
#define DYNCLK_BASEADDR XPAR_AXI_DYNCLK_0_BASEADDR
#define VGA_VDMA_ID XPAR_AXIVDMA_0_DEVICE_ID
#define DISP_VTC_ID XPAR_VTC_0_DEVICE_ID

//
extern u8 vbuffer[DISPLAY_NUM_FRAMES][MAX_FRAME];
extern u8 *vbufferPointer[DISPLAY_NUM_FRAMES];

class Renderer {
	public:
		Renderer();
		void render();
		int initialize();
		void addObject(GameObject *obj);

	protected:
		XAxiVdma vdma;
		DisplayCtrl controller;
		u8* currentFrame();
		int objectCount = 0;
		GameObject *objects[(ENEMY_COLS*ENEMY_ROWS) + OTHER_OBJS];

};

#endif
